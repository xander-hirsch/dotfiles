# vim: filetype=zsh
SOURCES=(
	options
	keybindings
	environment
	completion
	functions
)
for SOURCE in $SOURCES
do
	source "${ZDOTDIR}/${SOURCE}.zsh"
done

source "${HOME}/.aliases"

#####  plugins  #####
source "${ZDOTDIR}/plugins/zsh-vi-mode/zsh-vi-mode.plugin.zsh"
source "${ZDOTDIR}/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh"
source "${ZDOTDIR}/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"

#####  macOS  #####
if [[ $(uname -s) == 'Darwin' ]]; then
	unset SHELL_SESSIONS_DISABLE
	if type brew &>/dev/null; then
		fpath=("$(brew --prefix)/share/zsh/site-functions" $fpath)
	fi
fi

autoload -U compinit && compinit

#####  Shell tools  #####
if command -v fzf &> /dev/null; then
	source <(fzf --zsh)
fi

ZSHRC_LOCAL="${HOME}/.zshrc"
[[ -a $ZSHRC_LOCAL ]] && source $ZSHRC_LOCAL || true

if command -v zoxide &> /dev/null; then
	eval "$(zoxide init zsh --cmd cd)"
fi
